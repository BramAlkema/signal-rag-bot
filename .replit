# Replit Configuration for Signal RAG Bot
# This file tells Replit how to run your application

# Run configuration
run = "python signal_bot_rag.py"

# Entry point
entrypoint = "signal_bot_rag.py"

# Hidden files in Replit file tree
hidden = [".git", ".gitignore", "__pycache__", "*.pyc", ".pytest_cache", "venv", ".coverage", "coverage_html"]

# Language
language = "python3"

# Audio support (for notifications)
audio = false

# Modules - Replit's package management
[nix]
channel = "stable-23_11"

[deployment]
run = ["sh", "-c", "python signal_bot_rag.py"]
deploymentTarget = "cloudrun"

# Environment variables configuration
[env]
PYTHONUNBUFFERED = "1"
PYTHONOPTIMIZE = "1"

# Replit database (for future use)
[database]
dialect = "sqlite3"

# Unit tests
[unitTest]
language = "python3"

# Debugger
[debugger]
support = true

  [debugger.interactive]
  transport = "localhost:0"
  startCommand = ["dap-python", "signal_bot_rag.py"]

    [debugger.interactive.integratedAdapter]
    dapTcpAddress = "localhost:0"

    [debugger.interactive.initializeMessage]
    command = "initialize"
    type = "request"

      [debugger.interactive.initializeMessage.arguments]
      adapterID = "debugpy"
      clientID = "replit"
      clientName = "replit.com"
      columnsStartAt1 = true
      linesStartAt1 = true
      locale = "en-us"
      pathFormat = "path"
      supportsInvalidatedEvent = true
      supportsProgressReporting = true
      supportsRunInTerminalRequest = true
      supportsVariablePaging = true
      supportsVariableType = true

    [debugger.interactive.launchMessage]
    command = "attach"
    type = "request"

      [debugger.interactive.launchMessage.arguments]
      logging = {}

# Packager configuration
[packager]
language = "python3"
ignoredPackages = ["unit_tests"]

  [packager.features]
  enabledForHosting = false
  packageSearch = true
  guessImports = true

# Language server
[languages]

  [languages.python3]
  pattern = "**/*.py"

    [languages.python3.languageServer]
    start = "pylsp"

# Replit Secrets (for sensitive data)
[[hints]]
regex = "Error: No API key"
message = "Set OPENAI_API_KEY in Replit Secrets"

[[hints]]
regex = "Error: No phone number"
message = "Set SIGNAL_PHONE_NUMBER in Replit Secrets"
